(()=>{"use strict";var e={d:(t,o)=>{for(var l in o)e.o(o,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:o[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{AdvancedInspectorControls:()=>u,AdvancedStyleBlockInspector:()=>b,BlockInspectorTopControls:()=>I,ContentBlockInspector:()=>S,ContentInspectorControls:()=>w,DataHelperContextFromClientId:()=>E,StyleBlockInspector:()=>f,StyleInspectorControls:()=>O,useCurrentInspectorTab:()=>H});const o=window.kubio.editorData,l=window.React,c=window.wp.i18n,n=window.wp.blocks,r=window.wp.data,s=window.wp.compose,i=window.wp.components,d=window.wp.blockEditor,{Fill:a,Slot:k}=(0,i.createSlotFill)("AdvancedInspectorControls"),p=(0,s.createHigherOrderComponent)((e=>t=>{const o=(0,d.useBlockEditContext)(),{isSelected:c}=o;return c?(0,l.createElement)(e,{...t}):null}),"ifBlockEditSelectedAdvancedInspectorControls"),u=(0,s.compose)([p])(a);u.Slot=k;const m=(0,s.compose)([(0,r.withSelect)((e=>{const{getSelectedBlockClientId:t,getSelectedBlockCount:o,getBlockName:l}=e("core/block-editor"),{getBlockStyles:c}=e("core/blocks"),r=t(),s=r&&l(r),i=r&&(0,n.getBlockType)(s),d=r&&c(s);return{count:o(),hasBlockStyles:d&&d.length>0,selectedBlockName:s,selectedBlockClientId:r,blockType:i}}))])((({blockType:e,selectedBlockClientId:t,selectedBlockName:o,showNoBlockSelectedMessage:r=!0})=>{const s=o===(0,n.getUnregisteredTypeHandlerName)();return e&&t&&!s?(0,l.createElement)("div",{className:"block-editor-block-inspector kubio-inspector"},(0,l.createElement)(u.Slot,{bubblesVirtually:!0})):r?(0,l.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,c.__)("No block selected.","kubio")):null})),b=()=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(m,null)),w=e=>{const t=(0,d.useBlockEditContext)(),{isSelected:o}=t;return o&&(0,l.createElement)(i.__experimentalStyleProvider,{document},(0,l.createElement)(d.InspectorControls,{className:"kubio-inspector",...e}))},S=()=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(d.BlockInspector,null)),B=window.kubio.core,E=(0,s.compose)([(0,B.withObserveOtherBlocks)(((e,{clientId:t})=>t)),B.withKubioBlockContext])((({children:e})=>e)),{Fill:C,Slot:y}=(0,i.createSlotFill)("StyleInspectorControlsTop"),g=(0,s.createHigherOrderComponent)((e=>t=>{const o=(0,d.useBlockEditContext)(),{isSelected:c}=o;return c?(0,l.createElement)(e,{...t}):null}),"ifBlockEditSelectedStyleInspectorControls"),I=(0,s.compose)([g])(C);I.Slot=y;const h=window.kubio.controls,N=window.wp.hooks,_="StyleInspectorControls",{Fill:v,Slot:T}=(0,i.createSlotFill)(_),F=(0,s.createHigherOrderComponent)((e=>t=>{const o=(0,d.useBlockEditContext)(),{isSelected:c}=o;return c?(0,l.createElement)(i.__experimentalStyleProvider,{document},(0,l.createElement)(e,{...t})):null}),"ifBlockEditSelectedStyleInspectorControls"),O=(0,s.compose)([F])(v);O.Slot=e=>!(0,B.useSlotHasFills)(_)&&window.isKubioBlockEditor?(0,l.createElement)("div",{className:"kubio-editing-header"},(0,l.createElement)(h.ControlNotice,{content:(0,c.__)("Current block does not support styling","kubio")})):(0,l.createElement)(T,{...e});const f=(0,s.compose)([(0,r.withSelect)((e=>{const{getSelectedBlockClientId:t,getSelectedBlockCount:o,getBlockName:l}=e("core/block-editor"),{getBlockStyles:c}=e("core/blocks"),r=t(),s=r&&l(r),i=r&&(0,n.getBlockType)(s),d=r&&c(s);return{count:o(),hasBlockStyles:d&&d.length>0,selectedBlockName:s,selectedBlockClientId:r,blockType:i}}))])((({blockType:e,selectedBlockClientId:t,selectedBlockName:o,showNoBlockSelectedMessage:r=!0})=>{const s=o===(0,n.getUnregisteredTypeHandlerName)();return e&&t&&!s?(0,l.createElement)("div",{className:"block-editor-block-inspector kubio-inspector"},(0,l.createElement)(O.Slot,{bubblesVirtually:!0})):r?(0,l.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,c.__)("No block selected.","kubio")):null})),x=(0,s.createHigherOrderComponent)((e=>t=>(0,l.createElement)(l.Fragment,null,!window.isKubioBlockEditor&&(0,l.createElement)(d.InspectorControls,null,(0,l.createElement)(h.LinkedNotice,{...t})),(0,l.createElement)(e,{...t}),!window.isKubioBlockEditor&&(0,l.createElement)(d.InspectorControls,null,(0,l.createElement)(f,null)))),"withKubioStyleInspectorOutsideKubioEditor");(0,N.addFilter)("editor.BlockEdit","kubio.third-party-controls",x);const H=()=>{const[e,t]=(0,o.useGlobalSessionProp)("displayed-block-panel","content");return[e,t]};(window.kubio=window.kubio||{}).inspectors=t})();
